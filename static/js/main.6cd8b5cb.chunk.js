(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{168:function(e,t,a){e.exports=a(323)},173:function(e,t,a){},175:function(e,t,a){},178:function(e,t,a){},218:function(e,t){},220:function(e,t){},253:function(e,t){},318:function(e,t,a){},323:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),o=a(6),r=a.n(o),s=(a(173),a(27)),i=a(28),l=a(31),u=a(29),d=a(32),h=(a(175),a(60)),m=(a(178),a(330)),f=a(327),p=a(325),v=a(328),g=a(324),y=a(326),b=a(73),_=a(75),E=a.n(_),w={blockchain:"eos",protocol:"https",host:"nodes.get-scatter.com",chainId:"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906",port:443,socketSvr:"http://data.trust.bet"},k=(E()({httpEndpoint:"".concat(w.protocol,"://").concat(w.host,":").concat(w.port),chainId:w.chainId}),Object(b.a)({},w,{host:"api-kylin.eoslaomao.com",socketSvr:"192.168.0.222:8080",chainId:"5fff1dae8dc8e2fc4d5b23b2c7665c97f9e9d8edf2b6485a86ba311c25639191"})),O=(E()({httpEndpoint:"".concat(k.protocol,"://").concat(k.host,":").concat(k.port),chainId:k.chainId}),E.a),j=a(0),S=a.n(j),C=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).login=function(){a.state.scatter?a.state.scatter.getIdentity({accounts:[w]}).then(function(){m.a.success("\u767b\u9646\u6210\u529f");var e=window.scatter;a.setState({scatter:e},function(){e.identity&&e.identity.accounts&&a.get_user_info(e)})}).catch(function(){m.a.error("\u767b\u9646\u5931\u8d25\uff0c\u60a8\u53d6\u6d88\u4e86\u6388\u6743")}):m.a.warning("\u8bf7\u5b89\u88c5 scatter")},a.login_out=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];window.scatter.forgetIdentity().then(function(){a.setState({scatter_name:void 0}),a.context.store.dispatch({type:"login_out",payload:{scatter_account:void 0}}),e&&a.login()})},a.state={scatter_name:void 0},a.get_user_info=a.get_user_info.bind(Object(h.a)(Object(h.a)(a))),document.addEventListener("scatterLoaded",function(e){console.warn("scatter:",window.scatter);var t=window.scatter;a.setState({scatter:t},function(){t.identity&&t.identity.accounts?a.get_user_info(t):a.login()})}),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){}},{key:"get_user_info",value:function(e){var t=e.identity.accounts.find(function(e){return"eos"===e.blockchain});"".concat(t.name,"@").concat(t.authority);this.setState({scatter_name:t.name}),this.context.store.dispatch({type:"scatter_account",payload:{scatter_account:t}})}},{key:"net_change",value:function(e){this.context.store.dispatch({type:"net_change",payload:{main_net:e}})}},{key:"render",value:function(){var e=this,t=this.state.scatter_name,a=c.a.createElement(f.a,null,c.a.createElement(f.a.Item,{key:"1",onClick:function(){e.login_out(!0)}},"\u5207\u6362\u7528\u6237"),c.a.createElement(f.a.Item,{key:"2",onClick:function(){e.login_out()}},"\u9000\u51fa\u767b\u9646"));return c.a.createElement("div",{className:"header_wrap"},c.a.createElement("div",{className:"header_r fr hand"},c.a.createElement(p.a,{checkedChildren:"\u4e3b\u7f51",unCheckedChildren:"\u9e92\u9e9f",defaultChecked:!0,className:"net_switch",onChange:function(t){e.net_change(t)}}),t?c.a.createElement(v.a,{overlay:a},c.a.createElement(g.a,{className:"user_wrap"},c.a.createElement(y.a,{icon:"user",size:"small"}),"\xa0",t)):c.a.createElement("span",{className:"login",onClick:function(){e.login()}},"\u8bf7\u767b\u5f55")))}}]),t}(n.Component);C.contextTypes={store:S.a.object};var N=C,x=a(329),I=x.a.Footer,J=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return c.a.createElement(I,{style:{textAlign:"center"}},"Copyright\xa92018 trust.bet | All rights reserved.")}}]),t}(n.Component),A=(a(318),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={result:""},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"clear",value:function(){this.param_ref.value="",this.setState({result:""}),console.log(this.param_ref.value)}},{key:"send",value:function(){var e=this;try{var t=JSON.parse(this.param_ref.value);console.log(t);var a=this.context.store,n=a.getState(),c=n.scatter_account,o=n.main_net;if(console.log(a.getState()),!c)return void m.a.info("\u8bf7\u5148\u767b\u9646");this.setState({result:""});var r={authorization:["".concat(c.name,"@").concat(c.authority)]};console.log(w,k);var s=o?window.scatter.eos(w,O,{}):window.scatter.eos(k,O,{});console.log("eos",s),s.contract(t.contract).then(function(a){a[t.fn](t.params,r).then(function(t){console.log(t),m.a.success("\u64cd\u4f5c\u6210\u529f"),e.setState({result:JSON.stringify(t)})}).catch(function(t){var a="string"===typeof t?JSON.parse(t).error.details[0].message:t.message;m.a.error(a),e.setState({result:a})})}).catch(function(t){var a="string"===typeof t?JSON.parse(t).error.details[0].message:t.message;m.a.error(a),e.setState({result:a})})}catch(l){var i="string"===typeof l?JSON.parse(l).error.details[0].message:l.message;m.a.error(String(i))}}},{key:"render",value:function(){var e=this,t=this.state.result;return c.a.createElement("div",{className:"tra_wrap"},c.a.createElement("textarea",{rows:"10",placeholder:"\u8f93\u5165\u53d1\u9001data",className:"param_area",ref:function(t){e.param_ref=t}}),c.a.createElement("div",{className:"btn_line"},c.a.createElement(g.a,{onClick:function(){e.clear()}},"\u6e05\u7a7a"),c.a.createElement(g.a,{type:"primary",style:{marginLeft:"10px"},onClick:function(){e.send()}},"\u53d1\u9001")),c.a.createElement("div",{className:"result_box"},t))}}]),t}(n.Component));A.contextTypes={store:S.a.object};var L=A,M=a(26),T=(x.a.Header,x.a.Content),z=x.a.Sider,B=(f.a.SubMenu,function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).onCollapse=function(e){console.log(e),a.setState({collapsed:e})},a.state={collapsed:!0},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){console.log(this.context)}},{key:"render",value:function(){return c.a.createElement("div",{className:"App"},c.a.createElement(x.a,{style:{minHeight:"100vh"}},c.a.createElement(z,{collapsible:!0,collapsed:this.state.collapsed,onCollapse:this.onCollapse},c.a.createElement("div",{className:"logo hand"}),c.a.createElement(f.a,{theme:"dark",defaultSelectedKeys:["1"],mode:"inline"},c.a.createElement(f.a.Item,{key:"1"},c.a.createElement(M.a,{type:"pie-chart"}),c.a.createElement("span",null,"action")))),c.a.createElement(x.a,null,c.a.createElement(N,null),c.a.createElement(T,{style:{margin:"16px 16px 0"}},c.a.createElement(L,null)),c.a.createElement(J,null))))}}]),t}(n.Component));B.contextTypes={store:S.a.object};var D=B;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var H=a(166),W=a(62),F=a(165),K=(a(322),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{main_net:!0},t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload,c=Object(b.a)({},e,n);switch(a){case"scatter_account":case"login_out":case"net_change":return c}}),$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[F.a],a=W.a.apply(void 0,t);return Object(W.c)(K,e,a)}();console.log(999,$),r.a.render(c.a.createElement(H.a,{store:$},c.a.createElement(D,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[168,2,1]]]);
//# sourceMappingURL=main.6cd8b5cb.chunk.js.map